<!DOCTYPE html>
<html>
<head>
    <title>Cynrith</title>
    <link href="https://fonts.googleapis.com/css?family=Quicksand:400,700|Nunito:400,700|Merriweather+Sans:400,700&display=swap" rel="stylesheet">
    <link type="text/css" href="assets/css/root.css" rel="stylesheet" />
    <link type="text/css" href="assets/css/titleScreen.css" rel="stylesheet" />
    <link type="text/css" href="assets/css/hud.css" rel="stylesheet" />
    <link type="text/css" href="assets/css/dialogue.css" rel="stylesheet" />
    <link type="text/css" href="assets/css/playerMenu.css" rel="stylesheet" />
</head>
<body>
    <canvas id="game"></canvas>

    <div id="log">
        <div id="fps"></div>
        <div id="coords"></div>
    </div>
    
    <div id="touch-controls">
      <button id="btn-up" class="dpad-btn">▲</button>
      <div>
        <button id="btn-left" class="dpad-btn">◀</button>
        <button id="btn-down" class="dpad-btn">▼</button>
        <button id="btn-right" class="dpad-btn">▶</button>
      </div>
    </div>
    <div id="act-controls">
      <button id="btn-a" class="act-btn">A</button>
      <button id="btn-b" class="act-btn">B</button>
    </div>
    
    <button id="menu-btn" class="menu-btn">Menu</button>
    <div id="player-menu" class="player-menu hidden">
      <div class="player-menu-content">
        <h1>Player Menu</h1>
        <button id="close-menu" class="close-btn">✕</button>
        <div class="player-menu-pages">
          <div class="player-menu-inner menu-page active">
            <div class="menu-left">
              <button class="menu-nav-btn" id="btn-inventory">Inventory</button>
              <button class="menu-nav-btn" id="btn-skills">Skills</button>
              <button class="menu-nav-btn" id="btn-quests">Quests</button>
              <button class="menu-nav-btn" id="btn-save">Save Game</button>
              <button class="menu-nav-btn" id="btn-settings">Settings</button>
            </div>
            <div class="menu-right">
              <div id="player-sprite-preview"></div>
              <div id="player-stats-preview"></div>
            </div>
          </div>
          <div id="inventory-menu" class="menu-page">
            <button class="close-btn" onclick="showPlayerMenuMain()">✕</button>
            <h2>Inventory</h2>
            <div id="inventory-grid" class="inventory-grid"></div>
          </div>
          <!-- Add other menus here (skills, settings, etc.) -->
        </div>
      </div>
    </div>

    <div id="notification" class="notification"></div>

    <div id="dialogue-block" class="dialogue-block hidden">
      <div id="dialogue-npc-name" style="font-weight:bold;font-size:1.1em;color:#ffe082;margin-bottom:6px;"></div>
      <div id="dialogue-text"></div>
      <div id="dialogue-footer" style="margin-top:20px;font-size:0.6em;color:#ccc;"></div>
    </div>

    <div id="quest-hud" class="quest-hud"></div>

    <div id="title-screen">
      <div id="title-effects">
        <div class="title-ray ray1"></div>
        <div class="title-ray ray2"></div>
        <div id="title-sparkles"></div>
      </div>
      <div class="title-content">
        <h1>Cynrith</h1>
        <button id="btn-newgame">New Game</button>
        <button id="btn-loadgame">Load Game</button>
      </div>
      <div id="title-fade"></div>
    </div>
    
    <div id="character-select" class="hidden">
      <div class="char-select-content">
        <button id="char-select-close" class="close-btn" title="Back to Title Menu">✕</button>
        <h2>Character Selection</h2>
        <input id="player-name-input" type="text" maxlength="16" placeholder="Enter your name..." autocomplete="off" />
        <div class="char-select-body">
          <ul id="char-list"></ul>
          <div id="char-preview-container">
            <canvas id="char-preview-canvas" width="96" height="96"></canvas>
          </div>
        </div>
        <button id="char-confirm-btn" class="confirm-btn">Confirm</button>
      </div>
    </div>

    <div id="load-game-menu" class="hidden">
      <div class="char-select-content">
        <button id="loadgame-close" class="close-btn" title="Back to Title Menu">✕</button>
        <h2>Load Game</h2>
        <ul id="save-list"></ul>
        <div class="load-btn-row">
          <button id="loadgame-confirm-btn" class="confirm-btn" disabled>Load Game</button>
          <button id="loadgame-delete-btn" class="confirm-btn danger-btn" disabled>Delete</button>
        </div>
      </div>
    </div>

    <div id="loading-screen" class="hidden">
      <div id="loading-carousel"></div>
      <div id="loading-bar-container">
        <div id="loading-bar"></div>
      </div>
    </div>

    <div id="lore-intro">
      <div id="lore-aura"></div>
      <div id="lore-text"></div>
      <button id="lore-skip-btn" class="lore-skip-btn" style="display:none;">Skip</button>
    </div>

    <script src="assets/js/ui/titleScreen.js"></script>
    <script src="assets/js/core/viewport.js"></script>
    <script src="assets/js/player/player.js"></script>
    <script src="assets/js/player/playerControls.js"></script>
    <script src="assets/js/map/map.js"></script>
    <script src="assets/js/map/interactTiles.js"></script>
    <script src="assets/js/map/mapInteractions.js"></script>
    <script src="assets/js/map/mapWarping.js"></script>
    <script src="assets/js/npc/charactersData.js"></script>
    <script src="assets/js/quests/quests.js"></script>
    <script src="assets/js/quests/questHandlers.js"></script>
    <script src="assets/js/quests/questUi.js"></script>
    <script src="assets/js/npc/npc.js"></script>
    <script src="assets/js/npc/movement.js"></script>
    <script src="assets/js/npc/interactions.js"></script>
    <script src="assets/js/player/playerDeath.js"></script>
    <script src="assets/js/core/main.js"></script>
    <script src="assets/js/core/saveLoad.js"></script>
    <script src="assets/js/ui/effects.js"></script>
    <script src="assets/js/inventory/items.js"></script>
    <script src="assets/js/inventory/inventory.js"></script>
    <script src="assets/js/ui/menu.js"></script>
    <script src="assets/js/ui/notify.js"></script>
    <script src="assets/js/ui/combatUi.js"></script>

</body>
</html>
